{"version":3,"sources":["webpack:///./src/pages/gallery.js","webpack:///./src/components/Img/index.js","webpack:///./src/components/Gallery/index.js"],"names":["__webpack_require__","r","__webpack_exports__","d","pageQuery","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","n","prop_types__WEBPACK_IMPORTED_MODULE_1__","prop_types__WEBPACK_IMPORTED_MODULE_1___default","react_helmet__WEBPACK_IMPORTED_MODULE_2__","react_helmet__WEBPACK_IMPORTED_MODULE_2___default","components_Layout__WEBPACK_IMPORTED_MODULE_3__","components_Gallery__WEBPACK_IMPORTED_MODULE_4__","GalleryPage","_ref","data","a","createElement","name","content","images","edges","map","_ref2","node","childImageSharp","fluid","propTypes","PropTypes","shape","array","isRequired","Img","_ref$objectFit","objectFit","_ref$objectPosition","objectPosition","_ref$rounded","rounded","_ref$imgStyle","imgStyle","props","_babel_runtime_helpers_objectWithoutPropertiesLoose__WEBPACK_IMPORTED_MODULE_1___default","react__WEBPACK_IMPORTED_MODULE_2___default","gatsby_image__WEBPACK_IMPORTED_MODULE_3___default","Object","assign","borderRadius","fontFamily","GalleryWrapper","styled","section","withConfig","displayName","componentId","GalleryItem","div","Gallery","state","currentIndex","imgCount","_this","length","isOpen","handleOpen","setState","handleClose","handleMovePrev","handleMoveNext","render","_this2","this","_this$state","imgData","imgSources","_ref3","src","react__WEBPACK_IMPORTED_MODULE_1___default","img","index","key","onClick","components_Img__WEBPACK_IMPORTED_MODULE_4__","alt","react_image_lightbox__WEBPACK_IMPORTED_MODULE_5___default","mainSrc","nextSrc","prevSrc","onCloseRequest","onMovePrevRequest","onMoveNextRequest","React","Component","arrayOf","object"],"mappings":"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","file":"component---src-pages-gallery-js-7232a4ac6ba2dc004cc5.js","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport Helmet from 'react-helmet';\nimport { graphql } from 'gatsby';\n\nimport { Page, Container, PageHeading } from 'components/Layout';\nimport Gallery from 'components/Gallery';\n\nconst GalleryPage = ({ data }) => (\n  <Page>\n    <Container>\n      <Helmet>\n        <title>Gallery</title>\n        <meta\n          name=\"description\"\n          content=\"Photos taken with customers on Something Different Tours\"\n        />\n      </Helmet>\n      <PageHeading>Intrepid Explorers</PageHeading>\n      <Gallery\n        data={data.images.edges.map(({ node }) => node.childImageSharp.fluid)}\n      />\n    </Container>\n  </Page>\n);\n\nGalleryPage.propTypes = {\n  data: PropTypes.shape({\n    edges: PropTypes.array\n  }).isRequired\n};\n\nexport const pageQuery = graphql`\n  query GalleryQuery {\n    images: allFile(\n      filter: { relativeDirectory: { eq: \"gallery\" } }\n      sort: { fields: [base], order: ASC }\n    ) {\n      edges {\n        node {\n          childImageSharp {\n            fluid(maxWidth: 768, quality: 85) {\n              ...GatsbyImageSharpFluid\n            }\n          }\n        }\n      }\n    }\n  }\n`;\n\nexport default GalleryPage;\n","import React from 'react';\nimport Image from 'gatsby-image';\n\n// Wrapper to deal with IE11 support\n// https://github.com/gatsbyjs/gatsby/issues/4021\nconst Img = ({\n  objectFit = `cover`,\n  objectPosition = `50% 50%`,\n  rounded = true,\n  imgStyle = {},\n  ...props\n}) => (\n  <Image\n    {...props}\n    imgStyle={{\n      borderRadius: rounded ? '3px' : 0,\n      ...imgStyle,\n      objectFit,\n      objectPosition,\n      fontFamily: `\"object-fit: ${objectFit}; object-position: ${objectPosition}\"`\n    }}\n  />\n);\n\nexport default Img;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\nimport Img from 'components/Img';\nimport Lightbox from 'react-image-lightbox';\nimport 'react-image-lightbox/style.css'; // This only needs to be imported once in your app\n\nconst GalleryWrapper = styled.section`\n  display: flex;\n  flex-flow: row wrap;\n  justify-content: center;\n  margin: 0 -0.5rem;\n`;\n\nconst GalleryItem = styled.div`\n  margin: 0.5rem;\n  flex: 1 1 300px;\n  max-width: 600px;\n  cursor: pointer;\n\n  & .gatsby-image-outer-wrapper,\n  & .gatsby-image-wrapper {\n    height: 100%;\n  }\n`;\n\nclass Gallery extends React.Component {\n  static propTypes = {\n    data: PropTypes.arrayOf(PropTypes.object).isRequired\n  };\n\n  state = {\n    currentIndex: 0,\n    imgCount: this.props.data.length,\n    isOpen: false\n  };\n\n  handleOpen = currentIndex => () =>\n    this.setState({ isOpen: true, currentIndex });\n\n  handleClose = () => this.setState({ isOpen: false });\n\n  handleMovePrev = () =>\n    this.setState(({ currentIndex, imgCount }) => ({\n      currentIndex: (currentIndex + imgCount - 1) % imgCount\n    }));\n\n  handleMoveNext = () =>\n    this.setState(({ currentIndex, imgCount }) => ({\n      currentIndex: (currentIndex + 1) % imgCount\n    }));\n\n  render() {\n    const { isOpen, currentIndex, imgCount } = this.state;\n    const imgData = this.props.data;\n    const imgSources = imgData.map(({ src }) => src);\n\n    return (\n      <GalleryWrapper>\n        {imgData.map((img, index) => (\n          <GalleryItem key={index} onClick={this.handleOpen(index)}>\n            <Img fluid={img} alt=\"\" />\n          </GalleryItem>\n        ))}\n        {isOpen && (\n          <Lightbox\n            mainSrc={imgSources[currentIndex]}\n            nextSrc={imgSources[(currentIndex + 1) % imgCount]}\n            prevSrc={imgSources[(currentIndex + imgCount - 1) % imgCount]}\n            onCloseRequest={this.handleClose}\n            onMovePrevRequest={this.handleMovePrev}\n            onMoveNextRequest={this.handleMoveNext}\n          />\n        )}\n      </GalleryWrapper>\n    );\n  }\n}\n\nexport default Gallery;\n"],"sourceRoot":""}